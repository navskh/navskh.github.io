---
layout: post
title: 사진공유앱 시작
subtitle: React Native 강의 18강
tags: [React Native]
author: Young
comments: True
---

{%raw%}

## 여행 사진 공유앱을 시작한다.

시작할 때 깔아야 하는 애들..

```json
 "dependencies": {
        "@react-navigation/native": "^6.1.6",
        "expo": "~48.0.15",
        "expo-status-bar": "~1.4.4",
        "prop-types": "^15.8.1",
        "react": "18.2.0",
        "react-native": "0.71.7",
        "react-native-safe-area-context": "4.5.0",
        "react-native-screens": "~3.20.0"
    },
```

## 뭐 많이 만들었다.

로그인/회원가입 페이지를 만들었고
Input, Button 등은 이전 ToDo와 동일하게 가져간다 보면 될 듯.
그래도 Memo 용으로 적당한 것들을 기록해보면

#### 1. 키보드 높이로 인해 가려지는 부분은 Scroll을 사용한다.

```jsx
<ScrollView
	style={[styles.form, { paddingBottom: bottom ? bottom + 10 : 40 }]}
	contentContainerStyle={{ alignItems: 'center' }}
	bounces={false}
	keyboardShouldPersistTaps={'always'}
>
	<Input
		inputType={InputTypes.EMAIL}
		value={email}
		onChangeText={text => setEmail(text.trim())}
		onSubmitEditing={() => passwordRef.current.focus()}
		styles={{ container: { marginBottom: 20 } }}
		returnKeyType={ReturnkeyTypes.NEXT}
	></Input>
	<Input
		ref={passwordRef}
		inputType={InputTypes.PASSWORD}
		value={password}
		onChangeText={text => setPassword(text.trim())}
		onSubmitEditing={onSubmit}
		styles={{ container: { marginBottom: 20 } }}
		returnKeyType={ReturnkeyTypes.DONE}
	></Input>
	<Button
		title="SIGNIN"
		onPress={onSubmit}
		disabled={disabled}
		isLoading={isLoading}
		styles={{
			container: {
				marginTop: 20,
			},
		}}
	></Button>
	<HR text={'OR'} styles={{ container: { marginVertical: 20 } }} />
	<TextButton
		title={'SIGNUP'}
		onPress={() => {
			navigation.navigate(AuthRoute.SIGN_UP);
		}}
	/>
</ScrollView>
```

scrollView로 감쌀 때, Style 중
AlignMent 나 Justify 와 연관된 내용은
contentContainerStyle 속성안에 넣어야 한다.

bounces={false} : 끌림 방지
keyboardShouldPersistTaps={'always'} : 키보드 나올 때 버튼 누르면 이벤트 발생하도록

#### 2. useFocusEffect

```jsx
useFocusEffect(
	useCallback(() => {
		return () => {
			setEmail('');
			setPassword('');
			setisLoading(false);
			setDisabled(true);
		};
	}, []),
);
```

useFocusEffect는 해당 화면이 나타날 때 발생하며
정리함수를 사용하면, 해당 화면에서 벗어날 때 값을 초기화 해줄 수 있다.

이 때, useCallback 안에 사용하여 함수를 캐시에 저장해두고 사용함으로써
중복으로 호출되는 현상을 방지한다.

{%endraw%}
